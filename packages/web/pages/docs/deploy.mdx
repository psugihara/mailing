import Link from "next/link";

# Deploying Mailing

Your Mailing server can be deployed as a production website. The production build excludes development features like livereload and is optimized for performance.

### Why deploy?

- Share previews with clients and your team
- Email service with <Link href="/docs#rest-api">REST API</Link>
- User-friendly email settings portals with <Link href="/docs/lists">Lists</Link>
- [Coming soon] Analytics

# _[Demo](http://demo.mailing.run/previews/AccountCreated/accountCreated)_

### Vercel

The easiest way to deploy your preview server is via Vercel's UI. Under the hood, mailing is a Next.js application and Vercel is great at hosting these. Configuring your deployment this way will also give you easy previews on PRs and automatic deployments from your main branch.

1. Create a new project on [vercel.com](https://vercel.com/)
2. Connect it to your git repository
3. Configure the build command to run `npx mailing server build`
4. Configure the output directory to be `.mailing/.next`

Hereâ€™s a working Vercel configuration:

<img
  width="793"
  alt="Screen Shot 2022-09-26 at 11 57 06 AM"
  src="https://user-images.githubusercontent.com/282016/192357879-a19ec556-00c3-49b6-883c-6ae55e8eff7f.png"
/>

### Netlify

1. Install the Netlify NextJS plugin: `yarn add @netlify/plugin-nextjs`
2. Create a `netlify.toml` w/ the plugin enabled:

```
# $ cat netlify.toml
[[plugins]]
package = "@netlify/plugin-nextjs"
```

3. In the Netlify deploy settings, set the "build command" to `yarn install && yarn mailing server build` and set "publish directory" to `.mailing/.next`

### Other hosts

If you want to deploy somewhere else, you can use `npx mailing server build` to build the production app and `npx mailing server start` to boot it on localhost.
